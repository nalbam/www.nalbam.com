<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Jungyoul Yu (nalbam) - SRE / DevOps Engineer / AWS Hero">
  <meta name="keywords" content="nalbam, DevOps, SRE, AWS, Cloud, Engineer">
  <meta name="author" content="Jungyoul Yu">
  <title>nalbam | DevOps Engineer</title>
  <style>
    @font-face {
      font-family: 'SF Mono';
      src: url('static/fonts/sf-mono-regular.woff2') format('woff2'),
           url('static/fonts/sf-mono-regular.woff') format('woff');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'SF Mono';
      src: url('static/fonts/sf-mono-medium.woff2') format('woff2'),
           url('static/fonts/sf-mono-medium.woff') format('woff');
      font-weight: 500;
      font-style: normal;
      font-display: swap;
    }
    @font-face {
      font-family: 'SF Mono';
      src: url('static/fonts/sf-mono-bold.woff2') format('woff2'),
           url('static/fonts/sf-mono-bold.woff') format('woff');
      font-weight: bold;
      font-style: normal;
      font-display: swap;
    }
  </style>
  <link rel="stylesheet" href="static/style.css" />
  <script src="https://kit.fontawesome.com/94bd0a58a5.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>
</head>

<body>

  <div id="phaser-game"></div>

  <!-- Profile Toggle Button -->
  <button id="profile-toggle" class="profile-toggle-btn" aria-label="Hide profile">
    <i class="fa-solid fa-eye"></i>
  </button>

  <div class="pop-box" id="profile-box">
    <div class="pop-container">
      <div class="pop-pic"><img src="static/profiles/nalbam-2022.jpg" alt="Jungyoul Yu profile picture" /></div>
      <h1 class="pop-name">Jungyoul Yu (nalbam)</h1>
      <div class="pop-bio">
        <img src="static/logo/karrot.png" alt="Karrot logo">
        <span>SRE / üöÄ DevOps / ü¶∏üèª‚Äç‚ôÇÔ∏è AWS Hero</span>
      </div>
      <div class="pop-sns">
        <a href="https://github.com/nalbam" target="_blank"><i class="fa-brands fa-github"></i></a>
        <a href="https://facebook.com/nalbam" target="_blank"><i class="fa-brands fa-facebook"></i></a>
        <a href="https://linkedin.com/in/nalbam/" target="_blank"><i class="fa-brands fa-linkedin"></i></a>
        <a href="https://twitter.com/nalbam" target="_blank"><i class="fa-brands fa-twitter"></i></a>
        <a href="https://instagram.com/nalbam/" target="_blank"><i class="fa-brands fa-instagram"></i></a>
        <a href="https://youtube.com/user/nalbam" target="_blank"><i class="fa-brands fa-youtube"></i></a>
      </div>
    </div>
  </div>

  <script src="static/phaser-interactive.js"></script>
  <script src="static/analytics/nalbam.js"></script>
  
  <script>
    // Profile toggle functionality
    document.addEventListener('DOMContentLoaded', function() {
      const toggleBtn = document.getElementById('profile-toggle');
      const profileBox = document.getElementById('profile-box');
      const toggleIcon = toggleBtn.querySelector('i');
      
      let isProfileVisible = true; // Profile is visible by default
      let autoHideTimer = null;
      let randomPeekTimer = null;
      let lastInteractionTime = Date.now();
      let isManuallyHidden = false;
      
      // Auto-hide profile after 15 seconds of no interaction
      const AUTO_HIDE_DELAY = 15000;
      
      function updateToggleButton() {
        if (isProfileVisible) {
          profileBox.style.display = 'flex';
          toggleIcon.className = 'fa-solid fa-eye';
          toggleBtn.setAttribute('aria-label', 'Hide profile');
        } else {
          profileBox.style.display = 'none';
          toggleIcon.className = 'fa-solid fa-eye-slash';
          toggleBtn.setAttribute('aria-label', 'Show profile');
        }
      }
      
      function hideProfile() {
        if (isProfileVisible) {
          isProfileVisible = false;
          updateToggleButton();
        }
      }
      
      function showProfile() {
        if (!isProfileVisible) {
          isProfileVisible = true;
          updateToggleButton();
        }
      }
      
      function resetAutoHideTimer() {
        lastInteractionTime = Date.now();
        clearTimeout(autoHideTimer);
        
        // Only set auto-hide if profile is currently visible
        if (isProfileVisible) {
          autoHideTimer = setTimeout(() => {
            if (!isManuallyHidden) {
              hideProfile();
              startRandomPeek();
            }
          }, AUTO_HIDE_DELAY);
        }
      }
      
      function startRandomPeek() {
        function scheduleRandomPeek() {
          // Very random interval: 2-8 minutes
          const randomInterval = (120 + Math.random() * 360) * 1000;
          
          randomPeekTimer = setTimeout(() => {
            if (!isProfileVisible && !isManuallyHidden) {
              // Show profile for a brief moment (1-3 seconds)
              const peekDuration = 1000 + Math.random() * 2000;
              
              showProfile();
              
              setTimeout(() => {
                if (!isManuallyHidden) {
                  hideProfile();
                  scheduleRandomPeek(); // Schedule next random peek
                }
              }, peekDuration);
            } else {
              scheduleRandomPeek(); // Reschedule if conditions not met
            }
          }, randomInterval);
        }
        
        scheduleRandomPeek();
      }
      
      // Manual toggle button click
      toggleBtn.addEventListener('click', function() {
        isProfileVisible = !isProfileVisible;
        isManuallyHidden = !isProfileVisible;
        
        clearTimeout(autoHideTimer);
        clearTimeout(randomPeekTimer);
        
        updateToggleButton();
        
        if (isProfileVisible) {
          // If manually shown, reset auto-hide timer
          isManuallyHidden = false;
          resetAutoHideTimer();
        } else {
          // If manually hidden, start random peek
          startRandomPeek();
        }
      });
      
      // Track mouse movement and clicks to reset auto-hide timer
      document.addEventListener('mousemove', resetAutoHideTimer);
      document.addEventListener('click', resetAutoHideTimer);
      document.addEventListener('keydown', resetAutoHideTimer);
      
      // Initialize auto-hide timer
      resetAutoHideTimer();
    });
  </script>

</body>

</html>
